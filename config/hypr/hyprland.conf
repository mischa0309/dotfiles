# Hyprland Configuration
# https://wiki.hypr.land/Configuring/

source = ~/.config/hypr/colors.conf
source = ~/.config/hypr/hyprscrolling.conf

# ==================
# MONITOR CONFIG
# ==================
# Monitors from existing configuration
# monitor=eDP-1,1920x1200@60,auto-left,auto
monitor=eDP-1,disabled
monitor=DP-2,2560x1440@165,0x0,1.25,vrr,0
monitor=HDMI-A-1,2560x1440@120.00,auto-right,1.25

workspace=1,monitor:DP-2
workspace=2,monitor:DP-2
workspace=3,monitor:DP-2
workspace=4,monitor:DP-2
workspace=5,monitor:DP-2
workspace=5,monitor:DP-2
workspace=6,monitor:DP-2
workspace=7,monitor:DP-2
workspace=8,monitor:DP-2
workspace=9,monitor:DP-2

workspace=10,monitor:HDMI-A-1
workspace=11,monitor:HDMI-A-1
workspace=12,monitor:HDMI-A-1
workspace=13,monitor:HDMI-A-1
workspace=14,monitor:HDMI-A-1
workspace=15,monitor:HDMI-A-1
workspace=16,monitor:HDMI-A-1
workspace=17,monitor:HDMI-A-1
workspace=18,monitor:HDMI-A-1
workspace=19,monitor:HDMI-A-1
# ==================
# STARTUP APPS
# ==================
exec-once = dbus-update-activation-environment --systemd --all
exec-once = systemctl --user start hyprland-session.target
exec-once = bash -c "wl-paste --watch cliphist store &"
exec-once = hyprpm reload -n
exec-once = python3 ~/.config/hypr/scripts/hypr-dynws.py --daemon

env = QT_QPA_PLATFORMTHEME,gtk3
env = QT_QPA_PLATFORMTHEME_QT6,gtk3

# ==================
# INPUT CONFIG
# ==================
input {
    kb_layout = eu
    numlock_by_default = true
}

# ==================
# GENERAL LAYOUT
# ==================
general {
    gaps_in = 5
    gaps_out = 10
    border_size = 1  # off in niri

    # col.active_border = rgba(707070ff)
    col.active_border = $primary
    col.inactive_border = rgba(d0d0d0ff)

    layout = scrolling
}

# ==================
# DECORATION
# ==================
decoration {
    rounding = 10

    active_opacity = 1.0
    inactive_opacity = 1.5

    shadow {
        enabled = false
        range = 30
        render_power = 5
        offset = 0 5
        color = rgba(00000070)
    }

    blur {
        enabled = false
        size = 5
        noise = 0.03
        vibrancy = 0.2 
        vibrancy_darkness = 0.2
        contrast = 1.1
        passes = 2
        ignore_opacity = true
    }
}

# ==================
# ANIMATIONS
# ==================
animations {
    enabled = true

    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1

    animation = global,        1,     10,    default
    animation = border,        1,     5.39,  easeOutQuint
    animation = windows,       1,     4.79,  easeOutQuint, slide
    animation = windowsIn,     1,     6,   easeOutQuint
    animation = windowsOut,    1,     5,  linear,       slide 10%
    animation = fadeIn,        1,     1.73,  almostLinear
    animation = fadeOut,       1,     1.46,  almostLinear
    animation = fade,          1,     3.03,  quick
    animation = layers,        1,     3.81,  easeOutQuint
    animation = layersIn,      1,     4,     easeOutQuint, fade
    animation = layersOut,     1,     1.5,   linear,       fade
    animation = fadeLayersIn,  1,     1.79,  almostLinear
    animation = fadeLayersOut, 1,     1.39,  almostLinear
    animation = workspaces,    1,     3,  default, slidevert
    animation = workspacesIn,  1,     3,  default, slidevert
    animation = workspacesOut, 1,     3,  default, slidevert
    animation = zoomFactor,    1,     7,     quick
}

# ==================
# LAYOUTS
# ==================
dwindle {
    preserve_split = true
}

master {
    mfact = 0.5
}

# ==================
# MISC
# ==================
misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vrr = 0
    vfr = 0
}

xwayland {
    force_zero_scaling = true
}

# ==================
# WINDOW RULES
# ==================

# DMS windows floating by default
windowrulev2 = float, class:^(org.quickshell)$
windowrulev2 = opacity 0.9 0.9, floating:0, focus:0

# ==================
# KEYBINDINGS
# ==================
$mod = SUPER

# === Application Launchers ===
bind = $mod, Return, exec, kitty
bind = $mod, G, exec, dms ipc call spotlight toggle
bind = $mod, V, exec, dms ipc call clipboard toggle
bind = $mod, M, exec, dms ipc call processlist focusOrToggle
bind = $mod, comma, exec, dms ipc call settings focusOrToggle
bind = $mod, N, exec, dms ipc call notifications toggle
bind = $mod SHIFT, N, exec, dms ipc call notepad toggle
bind = $mod, B, exec, dms ipc call dankdash wallpaper
bind = $mod, TAB, exec, dms ipc call hypr toggleOverview

# === Audio Controls ===
bindel = , XF86AudioRaiseVolume, exec, dms ipc call audio increment 3
bindel = , XF86AudioLowerVolume, exec, dms ipc call audio decrement 3
bindl = , XF86AudioMute, exec, dms ipc call audio mute
bindl = , XF86AudioMicMute, exec, dms ipc call audio micmute

# === Brightness Controls ===
bindel = , XF86MonBrightnessUp, exec, dms ipc call brightness increment 5 ""
bindel = , XF86MonBrightnessDown, exec, dms ipc call brightness decrement 5 ""

# === Window Management ===
bind = $mod, Q, killactive
bind = $mod SHIFT, F, fullscreen, 0
bind = $mod SHIFT, T, togglefloating

# === Monitor Management ===
bind = SUPER CTRL, R, exec, ~/.config/hypr/scripts/compact.sh

# Move between Monitors
bind = $mod, L, focusmonitor, r
bind = $mod, H, focusmonitor, l

# Move Windows between Monitors
bind = $mod SHIFT, L, movewindow, mon:r
bind = $mod SHIFT, H,  movewindow, mon:l

# Move Workspaces between Monitors
bind = $mod CTRL, L, movecurrentworkspacetomonitor, r
bind = $mod CTRL, H, movecurrentworkspacetomonitor, l

# Move between workspaces
bind = $mod, I, workspace, m+1
bind = $mod, U, workspace, m-1

# Move Windows between Workspaces
bind = $mod SHIFT, I, movetoworkspace, m+1
bind = $mod SHIFT, U, movetoworkspace, m-1

# Swap Workspaces

# Create new empty workspace
bind = $mod, K, workspace, emptynm
bind = $mod SHIFT, K, movetoworkspace, emptynm

# # === Focus Navigation ===
# bind = $mod, A, movefocus, l
# bind = $mod, S, movefocus, d
# bind = $mod, W, movefocus, u
# bind = $mod, D, movefocus, r

# === Window Movement ===
bind = $mod SHIFT, A, movewindow, l
bind = $mod SHIFT, S, movewindow, d
bind = $mod SHIFT, W, movewindow, u
bind = $mod SHIFT, D, movewindow, r

# === Numbered Workspaces ===
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9

bind = $mod CTRL, 1, workspace, 10

# === Move to Numbered Workspaces ===
bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9

# === Move/resize windows with mainMod + LMB/RMB and dragging ===
bindmd = $mod, mouse:272, Move window, movewindow
bindmd = $mod, mouse:273, Resize window, resizewindow

# === Move/resize windows with mainMod + LMB/RMB and dragging ===
bindd = $mod, code:20, Expand window left, resizeactive, -100 0
bindd = $mod, code:21, Shrink window left, resizeactive, 100 0

# === Manual Sizing ===
binde = $mod, minus, resizeactive, -10% 0
binde = $mod, equal, resizeactive, 10% 0
binde = $mod SHIFT, minus, resizeactive, 0 -10%
binde = $mod SHIFT, equal, resizeactive, 0 10%

# === Screenshots ===
bind = , Print, exec, dms screenshot
bind = CTRL, Print, exec, dms screenshot full
bind = ALT, Print, exec, dms screenshot window

# === System Controls ===
bind = $mod SHIFT, P, dpms, toggle
